@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 210 20% 95%;
    --foreground: 210 25% 15%;
    --card: 0 0% 100%;
    --card-foreground: 210 25% 15%;
    --popover: 0 0% 100%;
    --popover-foreground: 210 25% 15%;
    --primary: 210 70% 50%;
    --primary-foreground: 210 20% 98%;
    --secondary: 210 20% 90%;
    --secondary-foreground: 210 25% 15%;
    --muted: 210 20% 90%;
    --muted-foreground: 210 20% 40%;
    --accent: 210 100% 95%;
    --accent-foreground: 210 25% 15%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 210 20% 85%;
    --input: 210 20% 88%;
    --ring: hsl(var(--background) / 0);
    --radius: 0.8rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 210 25% 10%;
    --foreground: 210 20% 95%;
    --card: 210 25% 12%;
    --card-foreground: 210 20% 95%;
    --popover: 210 25% 10%;
    --popover-foreground: 210 20% 95%;
    --primary: 210 70% 50%;
    --primary-foreground: 210 20% 98%;
    --secondary: 210 25% 18%;
    --secondary-foreground: 210 20% 98%;
    --muted: 210 25% 18%;
    --muted-foreground: 210 20% 60%;
    --accent: 210 25% 15%;
    --accent-foreground: 180 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 210 25% 20%;
    --input: 210 25% 22%;
    --ring: hsl(var(--background) / 0);
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-body;
  }

  /* Inputs */
  input,
  select,
  textarea {
    @apply bg-card text-foreground focus:outline-none;
  }

  /* Browser autofill */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-text-fill-color: hsl(var(--foreground)) !important;
    -webkit-box-shadow: 0 0 0px 1000px hsl(var(--card)) inset !important;
    transition: background-color 5000s ease-in-out 0s;
  }

  /* Search bar */
  .search-bar {
    @apply flex w-full items-center gap-2 rounded-md shadow-md border border-border bg-white;
  }

  /* --- React Day Picker (rdp-custom) --- */
  .rdp-custom {
    --rdp-accent-color: theme('colors.blue.600');
    --rdp-background-color: theme('colors.blue.100');
    margin: 0;
    font-size: 0.875rem;
  }

  .rdp-custom .rdp-day {
    @apply text-slate-700 hover:bg-blue-50 rounded-md;
  }

  .rdp-custom .rdp-day_selected,
  .rdp-custom .rdp-day_selected:focus-visible,
  .rdp-custom .rdp-day_selected:hover {
    @apply bg-blue-600 text-white;
  }

  .rdp-custom .rdp-day_range_start,
  .rdp-custom .rdp-day_range_end {
    @apply bg-blue-600 text-white;
  }

  .rdp-custom .rdp-day_range_middle {
    @apply bg-blue-100 text-blue-700;
  }

  .rdp-custom .rdp-caption {
    @apply flex items-center justify-between mb-2 text-slate-800 font-medium;
  }

  .rdp-custom .rdp-caption_label {
    @apply text-slate-800 font-semibold;
  }

  .rdp-custom .rdp-caption_dropdowns {
    @apply flex items-center gap-2;
  }

  .rdp-custom .rdp-caption_dropdowns select {
    @apply border border-slate-300 rounded-md p-1 text-sm text-slate-700 bg-white;
  }

  .rdp-custom .rdp-head_cell {
    @apply text-slate-600 text-xs font-medium;
  }

  .rdp-custom .rdp-nav {
    @apply flex items-center gap-1;
  }

  .rdp-custom .rdp-nav_button {
    @apply inline-flex items-center justify-center rounded-md p-1 text-slate-600 hover:bg-slate-100;
  }

  /* --- Tiptap Editor Styles --- */
  .ProseMirror {
    @apply h-[400px] max-h-[600px] w-full max-w-none overflow-y-auto rounded-b-md border border-input bg-background p-4 text-sm ring-offset-background;
  }

  .ProseMirror:focus {
    @apply outline-none ring-2 ring-ring ring-offset-2;
  }

  .ProseMirror > * + * {
    @apply mt-4;
  }

  .ProseMirror h1 {
    @apply font-bold text-3xl;
  }

  .ProseMirror h2 {
    @apply font-bold text-2xl;
  }

  .ProseMirror h3 {
    @apply font-bold text-xl;
  }

  .ProseMirror p {
    @apply leading-relaxed;
  }

  .ProseMirror ul {
    @apply list-disc pl-6;
  }

  .ProseMirror ol {
    @apply list-decimal pl-6;
  }

  .ProseMirror a {
    @apply text-primary underline;
  }

  .ProseMirror p.is-editor-empty:first-child::before {
    content: 'Start typing or paste your content...';
    color: hsl(var(--muted-foreground));
    float: left;
    height: 0;
    pointer-events: none;
  }

  /* --- Prose Styling for Rendered Pages --- */
  .prose {
    @apply max-w-none text-foreground;
  }

  .dark .prose {
    @apply prose-invert;
  }

  .prose p {
    @apply leading-relaxed;
  }

  .prose h1 {
    @apply font-bold text-3xl;
  }

  .prose h2 {
    @apply font-bold text-2xl;
  }

  .prose h3 {
    @apply font-bold text-xl;
  }

  .prose ul {
    @apply list-disc pl-6;
  }

  .prose ol {
    @apply list-decimal pl-6;
  }

  .prose a {
    @apply text-primary underline;
  }
}

/* Custom styles for Google Maps InfoWindow */
.gm-style-iw-c {
  padding: 0 !important;
  border-radius: 14px !important;
}

.gm-style-iw-d {
  overflow: hidden !important;
}

/* Custom styles for Google Places Autocomplete Dropdown */
.pac-container {
  @apply mt-2 rounded-lg border border-border bg-popover shadow-md z-50;
  width: var(--location-search-width) !important;
  left: 0 !important;
}

#location-search-wrapper .pac-container {
  width: 100% !important;
  left: 0 !important;
}

.pac-item {
  @apply cursor-pointer p-2 text-sm text-popover-foreground;
}

.pac-item:hover {
  @apply bg-accent text-accent-foreground;
}

.pac-item-query {
  @apply font-semibold;
}

.pac-icon {
  @apply mr-2 text-muted-foreground;
}

.pac-logo:after {
  @apply text-xs text-muted-foreground p-2;
}
